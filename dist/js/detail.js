"use strict";function getList(){$.ajax({url:"../lib/nav_top.json",dataType:"json",success:function(t){console.log(t);var e="";t.forEach(function(n){e+='<li><a href="#">'.concat(n.name,"</a></li>")}),$(".nav-top > ul").html(e).on({mouseenter:function(){return $(".nav-box").stop().slideDown()},mouseleave:function(){return $(".nav-box").stop().slideUp()}}).children("li").on("mouseover",function(){var n=$(this).index(),e=t[n].list,o="";e.forEach(function(n){o+='\n                                <li>\n                                    <div>\n                                        <img src="'.concat(n.list_url,'" alt="">\n                                    </div>\n                                    <p class="title">').concat(n.list_name,'</p>\n                                    <span class="price">').concat(n.list_price,"</span>\n                                </li>\n                                    ")}),$(".nav-box > ul").html(o)}),$(".nav-box").on({mouseover:function(){$(this).finish().show()},mouseout:function(){$(this).finish().slideUp()}})}})}$(function(){$(".show").mouseover(function(){$(this).children("div").stop().slideDown(300)}),$(".show").mouseout(function(){$(this).children("div").stop().slideUp(300)})}),getList(),function(u){u.fn.JNMagnifier=function(e){if(e&&e.renderTo){"string"==typeof e.renderTo&&(e.renderTo=u(e.renderTo));var o=this.children("img");o.css("cursor","pointer");var t=0,i=0,r=this.offset().left,s=this.offset().top;this.offsetParent()&&(r+=this.offsetParent().offset().left,s+=this.offsetParent().offset().top);var c=0,f=0,a=e.renderTo.width()/2,l=e.renderTo.height()/2;o.mouseover(function(){e.renderTo.html('<img src="'+o.attr("src")+'" style="position:absolute;" id="JNMagnifierrenderToImg" />'),e.renderTo.show();var n=setInterval(function(){t=u("#JNMagnifierrenderToImg").width()/o.width(),i=u("#JNMagnifierrenderToImg").height()/o.height(),0<t&&clearInterval(n)},100)}),o.mouseout(function(){e.renderTo.hide()}),o.mousemove(function(n){c=0-Math.round((document.documentElement.scrollLeft+n.clientX-r)*t-a),f=0-Math.round((document.documentElement.scrollTop+n.clientY-s)*i-l),u("#JNMagnifierrenderToImg").css({left:c+"px ",top:f+"px"})})}}}(jQuery),$("#ShowPictureBox").JNMagnifier({renderTo:"#ShowBigPictureBox"});var info=JSON.parse(localStorage.getItem("goodsInfo"));function bindHtml(){$(".buybox img").attr("src",info.url),$(".buybox h3").text(info.name),$(".buybox p").text(info.price)}info||(alert("数据不存在"),window.location.href="./list.html"),bindHtml(),$(".btn1").click(function(){var n=JSON.parse(localStorage.getItem("cartList"))||[];if(n.some(function(n){return n.id===info.id})){for(var e=null,o=0;o<n.length;o++)if(n[o].id===info.id){e=n[o];break}e.number++,e.xiaoji=e.number*e.price}else info.number=1,info.xiaoji=info.price,info.isSelect=!1,n.push(info);localStorage.setItem("cartList",JSON.stringify(n))});