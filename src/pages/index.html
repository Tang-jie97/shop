<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小米商城</title>
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/common.css">
</head>

<body>
    <script src="//at.alicdn.com/t/font_1663608_g7w6j4v70gp.js"></script>
    <!-- 顶部栏 -->
    <div class="top">
        <div class="container">
            <div class="top_list">
                <a href="javascript: ">小米商城</a>
                <span>|</span>
                <a href="javascript: ">MIUI</a>
                <span>|</span>
                <a href="javascript: ">loT</a>
                <span>|</span>
                <a href="javascript: ">云服务</a>
                <span>|</span>
                <a href="javascript: ">金融</a>
                <span>|</span>
                <a href="javascript: ">有品</a>
                <span>|</span>
                <a href="javascript: ">小爱开发平台</a>
                <span>|</span>
                <a href="javascript: ">企业团购</a>
                <span>|</span>
                <a href="javascript: ">资质证照</a>
                <span>|</span>
                <a href="javascript: ">协议规则</a>
                <span>|</span>
                <a href="javascript: " class="show dow">下载app
                    <div class="download">
                        <img src="../images/xiazai.png" alt="">
                        <p>下载商城app</p>
                    </div>
                </a>

                <span>|</span>
                <a href="javascript: ">Select Location</a>
            </div>
            <div class="shop">
                <a href="javascript: " class="show shop-a">
                    <div class="shop_container">
                        购物车中还没有商品，赶紧选购吧!
                    </div>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icongouwuchekong"></use>
                        </svg>购物车(<i>0</i>)
                </a>
            </div>
            <div class="login">
                <a href="./login.html">登录</a>
                <span>|</span>
                <a href="./sign.html">注册</a>
                <span>|</span>
                <a href="javascript: ">消息通知</a>
            </div>
        </div>
    </div>
    <!-- 导航栏 -->
    <div class="header">
        <div class="container">
            <div class="logo">
                <a href="#">
                    <img src="../images/logo_top.png" alt="">
                </a>
            </div>
            <div class="nav">
                <div class="nav-top">
                    <ul class="clearfix">
                    </ul>
                </div>

                <div class="nav-box">
                    <ul class="cont clearfix">
                    </ul>
                </div>

            </div>
            <div class="search clearfix">
                <form action="">
                    <input type="text" name="shop" class="search-text">
                    <button class="search-btn">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#iconsousuo"></use>
                        </svg>
                    </button>
                    <div class="search-word">
                        <a href="#">小米9 Pro 5G</a>
                        <a href="#">Renmi Note 8</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- 主页 -->
    <div class="content">
        <div class="banner">
            <ul class="pic">
                <li><img src="../images/1.jpg" alt=""></li>
                <li><img src="../images/2.jpg" alt=""></li>
                <li><img src="../images/3.jpg" alt=""></li>
                <li><img src="../images/4.jpg" alt=""></li>
                <li><img src="../images/5.jpg" alt=""></li>
            </ul>

            <ul class="num">
                <li class="on"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <div class="left arrow">&lt;</div>
            <div class="right arrow">&gt;</div>
        </div>
        <div class="category-list">
            <ul>
                <li><a href="#">手机 电话卡<span>&gt;</span></a></li>
                <li><a href="#">电视 盒子<span>&gt;</span></a></li>
                <li><a href="#">笔记本 显示器 平板<span>&gt;</span></a></li>
                <li><a href="#">家电 插线板<span>&gt;</span></a></li>
                <li><a href="#">出行 穿戴<span>&gt;</span></a></li>
                <li><a href="#">智能 路由器<span>&gt;</span></a></li>
                <li><a href="#">电源 配件<span>&gt;</span></a></li>
                <li><a href="#">健康 儿童<span>&gt;</span></a></li>
                <li><a href="#">耳机 音响<span>&gt;</span></a></li>
                <li><a href="#">生活 箱包<span>&gt;</span></a></li>
            </ul>
        </div>
    </div>
    <!-- 内容 -->
    <div class="content-list ">
        <div class="container ">
        </div>
    </div>
    </div>
    <!-- 尾部 -->
    <div class="footer ">
        <div class="container "></div>
    </div>
    <script src="../lib/jquery/dist/jquery.min.js "></script>
    <script src="../js/index.js "></script>
    <script>
        getList()

        function getList() {
            $.ajax({
                url: '../lib/nav_top.json',
                dataType: 'json',
                success: function(res) {
                    console.log(res)
                    let str = ''
                    res.forEach(item => {
                        str += `<li><a href="#">${ item.name }</a></li>`
                    })
                    $('.nav-top > ul')
                        .html(str)
                        .on({
                            mouseenter: () => $('.nav-box').stop().slideDown(),
                            mouseleave: () => $('.nav-box').stop().slideUp()
                        })
                        .children('li')
                        .on('mouseover', function() {
                            const index = $(this).index()
                            const list = res[index].list
                            let str = ''
                            list.forEach(item => {
                                str += `
                                    <li>
                                        <div>
                                            <img src="${ item.list_url }" alt="">
                                        </div>
                                        <p class="title">${ item.list_name }</p>
                                        <span class="price">${ item.list_price }</span>
                                    </li>
                                        `
                            })
                            $('.nav-box > ul').html(str)
                        })
                    $('.nav-box')
                        .on({
                            mouseover: function() {
                                $(this).finish().show()
                            },
                            mouseout: function() {
                                $(this).finish().slideUp()
                            }
                        })
                }
            })
        }
    </script>
</body>

</html>